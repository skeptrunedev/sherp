---
import { getCollection } from 'astro:content';

const presentations = await getCollection('presentations');
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Marp on Astro - Presentations</title>
	</head>
	<body>
		<main>
			<h1>Marp on Astro</h1>
			<p>Markdown presentations powered by Astro, MDX, and Content Collections</p>

			<section class="presentations">
				<h2>Available Presentations</h2>
				<ul>
					{presentations.map((presentation) => (
						<li>
							<a href={`/presentations/${presentation.slug}`}>
								<h3>{presentation.data.title}</h3>
								{presentation.data.description && (
									<p>{presentation.data.description}</p>
								)}
								{presentation.data.author && (
									<small>by {presentation.data.author}</small>
								)}
							</a>
						</li>
					))}
				</ul>
			</section>

			<section class="features">
				<h2>Features</h2>
				<ul>
					<li>✅ Single file presentations with MDX</li>
					<li>✅ Slide splitting with horizontal rules (---)</li>
					<li>✅ Marp-style directives (global & local)</li>
					<li>✅ Directive inheritance and scoping</li>
					<li>✅ Multiple themes (default, gaia, uncover, dark, light)</li>
					<li>✅ Keyboard navigation</li>
					<li>✅ Overview mode</li>
					<li>✅ Headers, footers, and pagination</li>
				</ul>
			</section>
		</main>
	</body>
</html>

<style>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	body {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
			Ubuntu, Cantarell, sans-serif;
		line-height: 1.6;
		color: #333;
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		min-height: 100vh;
		padding: 2rem;
	}

	main {
		max-width: 1200px;
		margin: 0 auto;
		background: white;
		padding: 3rem;
		border-radius: 10px;
		box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
	}

	h1 {
		font-size: 3rem;
		margin-bottom: 0.5rem;
		color: #667eea;
	}

	h2 {
		font-size: 2rem;
		margin-top: 2rem;
		margin-bottom: 1rem;
		color: #764ba2;
	}

	h3 {
		font-size: 1.5rem;
		margin-bottom: 0.5rem;
		color: #333;
	}

	main > p {
		font-size: 1.2rem;
		color: #666;
		margin-bottom: 2rem;
	}

	section {
		margin-top: 3rem;
	}

	.presentations ul {
		list-style: none;
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
		gap: 1.5rem;
	}

	.presentations li {
		border: 2px solid #e0e0e0;
		border-radius: 8px;
		transition: all 0.3s;
	}

	.presentations li:hover {
		border-color: #667eea;
		box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
		transform: translateY(-2px);
	}

	.presentations a {
		display: block;
		padding: 1.5rem;
		text-decoration: none;
		color: inherit;
	}

	.presentations p {
		color: #666;
		font-size: 0.95rem;
		margin-top: 0.5rem;
	}

	.presentations small {
		color: #999;
		font-size: 0.85rem;
		display: block;
		margin-top: 0.5rem;
	}

	.features ul {
		list-style: none;
		padding-left: 0;
	}

	.features li {
		padding: 0.5rem 0;
		font-size: 1.1rem;
	}
</style>
